<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>objectPrograming</title>
    <script type="text/javascript">
        'use strict';

        window.onload = function() {
            // 面向对象编程
            // 类：类是对象的类型模板
            // 实例：实例是根据类创建的对象
            // JavaScript不区分类和实例的概念，而是通过原型（prototype）来实现面向对象
            let Student = {
                name: 'Robot',
                height: 1.6,
                run: function() {
                    console.log(this.name + ' is running...');
                }
            };

            let xiaoming = {
                name: '小明'
            };

            // 把xiaoming的原型指向了对象Student，看上去xiaoming是从Student继承下来的
            xiaoming.__proto__ = Student;
            console.log(xiaoming.name) // 小明
            xiaoming.run(); // 小明 is running...

            let Bird = {
                fly: function() {
                    console.log(this.name + ' is flying...');
                }
            };

            // 如果把xiaoming的原型指向其他对象
            xiaoming.__proto__ = Bird;
            xiaoming.fly(); // 小明 is flying...

            // 在编写JavaScript代码时，不要直接用obj.__proto__去改变一个对象的原型
            // Object.create()方法可以传入一个原型对象，并创建一个基于该原型的新对象，但是新对象什么属性都没有
            function createStudent(name) {
                // 基于Student原型创建一个新对象
                let stu = Object.create(Student);
                // 初始化新对象
                stu.name = name;

                return stu;
            }

            let daming = createStudent('大明');
            daming.run(); // 大明 is running...
            console.log(daming.__proto__ == Student); // true

        };
    </script>
</head>

<body>
    <div>objectPrograming</div>
</body>

</html>